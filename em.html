<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Электромагнитные колебания</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Тест: Электромагнитные колебания</h1>
<p>Выбери один вариант ответа. Нажми <b>Проверить</b>.</p>
<div id="quiz"></div>

<div>
  <button id="checkBtn">Проверить</button>
  <button id="showAnswers">Показать ответы</button>
  <button id="resetBtn">Сброс</button>
</div>

<div id="result" class="score"></div>
<a href="index.html">← Вернуться в меню</a>

<script>
// Вопросы
const questions = [
{q:'Уравнение LC-контура?', opts:['q¨ + (1/LC) q = 0','q¨ + LC q = 0','q¨ - (1/LC) q = 0'], a:0, exp:'Стандартная форма: q¨ + (1/LC) q = 0.'},
{q:'Максимальный ток I_max в LC?', opts:['I_max = ω0 Q','I_max = Q/ω0','I_max = Q²'], a:0, exp:'I_max = ω0 Q, где Q — амплитуда заряда.'},
{q:'Энергия в LC?', opts:['E = 1/2 C U² + 1/2 L I²','E = C U²','E = L I²'], a:0, exp:'E = E_C + E_L = 1/2 C U² + 1/2 L I².'},
{q:'Частота LC-контура ω0?', opts:['ω0 = 1/√(LC)','ω0 = √(LC)','ω0 = L/C'], a:0, exp:'ω0 = 1/√(LC).'},
{q:'Импеданс последовательной RLC?', opts:['Z = R + i(ωL - 1/(ωC))','Z = R - i(ωL + 1/(ωC))','Z = R + i(1/(ωC) - ωL)'], a:0, exp:'Z = R + i(X_L - X_C).'},
{q:'Фазовый угол φ между U и I?', opts:['tanφ = (X_L - X_C)/R','tanφ = R/(X_L - X_C)','tanφ = (X_C - X_L)/R'], a:0, exp:'tanφ = (X_L - X_C)/R.'},
{q:'Фазовый сдвиг U_L относительно I?', opts:['π/2','0','-π/2'], a:0, exp:'U_L = L dI/dt → опережает ток на π/2.'},
{q:'Фазовый сдвиг U_C относительно I?', opts:['-π/2','0','π/2'], a:0, exp:'U_C = 1/C ∫ I dt → отстаёт на π/2.'},
{q:'Резонансная частота последовательной RLC?', opts:['ω0 = 1/√(LC)','ω0 = √(LC)','ω0 = L/C'], a:0, exp:'ω0 = 1/√(LC).'},
{q:'Амплитуда I(ω) вынужденных колебаний?', opts:['I = E_m / √(R² + (X_L - X_C)²)','I = E_m / R','I = E_m / X_C'], a:0, exp:'I(ω) = E_m / Z.'},
{q:'Добротность Q для LC?', opts:['Q = ω0 L / R','Q = R / ω0 L','Q = L / C'], a:0, exp:'Q = ω0 L / R.'},
{q:'Средняя активная мощность P?', opts:['P = U_rms I_rms cosφ','P = U_rms I_rms sinφ','P = U_rms I_rms'], a:0, exp:'P = U_rms I_rms cosφ.'},
{q:'Фаза q и I в LC-контуре?', opts:['I опережает q на π/2','I в фазе','I отстаёт на π/2'], a:0, exp:'I = dq/dt → опережение на π/2.'},
{q:'При резонансе φ и I?', opts:['φ = 0, ток и напряжение в фазе','φ = π/2','φ = π'], a:0, exp:'В резонансе φ = 0 → ток и U совпадают по фазе.'},
{q:'Максимальное напряжение на катушке и конденсаторе при резонансе?', opts:['U_L = U_C > U','U_L = U_C < U','U_L = U_C = U'], a:0, exp:'U_L и U_C могут превышать входное U за счёт фазового сложения.'}
];

// Рендер
const quizDiv = document.getElementById('quiz');
questions.forEach((qq,i)=>{
  const d=document.createElement('div'); d.className='q';
  d.innerHTML=`<strong>Вопрос ${i+1}.</strong> ${qq.q}<div></div>`;
  qq.opts.forEach((opt,j)=>{
    const label=document.createElement('label'); label.style.display='block';
    label.innerHTML=`<input type="radio" name="q${i}" value="${j}"> ${opt}`;
    d.appendChild(label);
  });
  const expDiv=document.createElement('div'); expDiv.className='explain'; expDiv.id=`exp${i}`;
  d.appendChild(expDiv);
  quizDiv.appendChild(d);
});

// Функции
function check(){let score=0;questions.forEach((qq,i)=>{const els=document.getElementsByName('q'+i);let chosen=-1;for(const el of els) if(el.checked) chosen=parseInt(el.value);const expDiv=document.getElementById('exp'+i); expDiv.style.display='block'; if(chosen===qq.a){ expDiv.innerHTML=`<div class="correct">Правильно</div><div>${qq.exp}</div>`; score++; } else if(chosen===-1){ expDiv.innerHTML=`<div class="wrong">Не отвечено</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; } else { expDiv.innerHTML=`<div class="wrong">Неправильно</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; }}); document.getElementById('result').innerHTML=`Ваш результат: <b>${score}/${questions.length}</b>`;}
function showAnswers(){questions.forEach((qq,i)=>{const expDiv=document.getElementById('exp'+i); expDiv.style.display='block'; expDiv.innerHTML=`Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}`;});document.getElementById('result').innerHTML='';}
function resetQuiz(){questions.forEach((qq,i)=>{const els=document.getElementsByName('q'+i); for(const el of els) el.checked=false; document.getElementById('exp'+i).style.display='none';}); document.getElementById('result').innerHTML='';}

document.getElementById('checkBtn').addEventListener('click', check);
document.getElementById('showAnswers').addEventListener('click', showAnswers);
document.getElementById('resetBtn').addEventListener('click', resetQuiz);
</script>
</body>
</html>
