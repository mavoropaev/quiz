<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Механические колебания</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Тест: Механические колебания</h1>
<p>Выбери один вариант ответа. Нажми <b>Проверить</b>.</p>
<div id="quiz"></div>

<div>
  <button id="checkBtn">Проверить</button>
  <button id="showAnswers">Показать ответы</button>
  <button id="resetBtn">Сброс</button>
</div>

<div id="result" class="score"></div>
<a href="index.html">← Вернуться в меню</a>

<script>
// Вопросы
const questions = [
{q:'Уравнение гармонического осциллятора', opts:['x¨ + ω0^2 x = 0','x¨ - ω0^2 x = 0','x¨ + ω t x = 0'], a:0, exp:'x¨ + ω0^2 x = 0.'},
{q:'Максимальная скорость через A и ω', opts:['A/ω','A ω','A ω^2'], a:1, exp:'v_max = A ω.'},
{q:'Энергия гармонического осциллятора', opts:['E = 1/2 k A^2','E = k A','E = m A^2'], a:0, exp:'E = 1/2 k A^2.'},
{q:'Частота математического маятника', opts:['ω = sqrt(g/l)','ω = sqrt(l/g)','ω = g/l'], a:0, exp:'ω = sqrt(g/l).'},
{q:'Добротность связана с β как', opts:['Q = ω0 / (2β)','Q = 2β / ω0','Q = ω0 * β'], a:0, exp:'Q = ω0/(2β).'},
{q:'Формула амплитуды вынужденного ответа', opts:['A = (F0/m)/sqrt((ω0^2-ω^2)^2 + (2βω)^2)','A = F0/(m(ω0^2+ω^2))','A = F0/(k)'], a:0, exp:'Стандартное выражение с демпфированием.'}
];

// Рендерим
const quizDiv = document.getElementById('quiz');
questions.forEach((qq,i)=>{
  const d=document.createElement('div'); d.className='q';
  d.innerHTML=`<strong>Вопрос ${i+1}.</strong> ${qq.q}<div></div>`;
  qq.opts.forEach((opt,j)=>{
    const id=`q${i}_opt${j}`;
    const label=document.createElement('label');
    label.style.display='block';
    label.innerHTML=`<input type="radio" name="q${i}" value="${j}"> ${opt}`;
    d.appendChild(label);
  });
  const expDiv=document.createElement('div'); expDiv.className='explain'; expDiv.id=`exp${i}`;
  d.appendChild(expDiv);
  quizDiv.appendChild(d);
});

// Функции проверки
function check(){
  let score=0;
  questions.forEach((qq,i)=>{
    const els=document.getElementsByName('q'+i);
    let chosen=-1;
    for(const el of els) if(el.checked) chosen=parseInt(el.value);
    const expDiv=document.getElementById('exp'+i); expDiv.style.display='block';
    if(chosen===qq.a){ expDiv.innerHTML=`<div class="correct">Правильно</div><div>${qq.exp}</div>`; score++; }
    else if(chosen===-1){ expDiv.innerHTML=`<div class="wrong">Не отвечено</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; }
    else { expDiv.innerHTML=`<div class="wrong">Неправильно</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; }
  });
  document.getElementById('result').innerHTML=`Ваш результат: <b>${score}/${questions.length}</b>`;
}

function showAnswers(){questions.forEach((qq,i)=>{const expDiv=document.getElementById('exp'+i); expDiv.style.display='block'; expDiv.innerHTML=`Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}`;});document.getElementById('result').innerHTML='';}
function resetQuiz(){questions.forEach((qq,i)=>{const els=document.getElementsByName('q'+i); for(const el of els) el.checked=false; document.getElementById('exp'+i).style.display='none';}); document.getElementById('result').innerHTML='';}

document.getElementById('checkBtn').addEventListener('click', check);
document.getElementById('showAnswers').addEventListener('click', showAnswers);
document.getElementById('resetBtn').addEventListener('click', resetQuiz);
</script>
</body>
</html>
