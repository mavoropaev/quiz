<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Механические колебания</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Тест: Механические колебания</h1>
<p>Выбери один вариант ответа. Нажми <b>Проверить</b>.</p>
<div id="quiz"></div>

<div>
  <button id="checkBtn">Проверить</button>
  <button id="showAnswers">Показать ответы</button>
  <button id="resetBtn">Сброс</button>
</div>

<div id="result" class="score"></div>
<a href="index.html">← Вернуться в меню</a>

<script>
// Вопросы
const questions = [
{q:'Уравнение гармонического осциллятора (x(t))?', opts:['x¨ + ω0² x = 0','x¨ - ω0² x = 0','x¨ + x = 0'], a:0, exp:'Стандартная форма: x¨ + ω0² x = 0.'},
{q:'Максимальная скорость осциллятора через A и ω?', opts:['v_max = Aω','v_max = A/ω','v_max = Aω²'], a:0, exp:'v_max = Aω.'},
{q:'Максимальное ускорение через A и ω?', opts:['a_max = Aω²','a_max = Aω','a_max = ω²/A'], a:0, exp:'a_max = Aω².'},
{q:'Энергия гармонического осциллятора?', opts:['E = 1/2 k A²','E = k A','E = m A²'], a:0, exp:'E = 1/2 k A².'},
{q:'Связь периода T и ω0?', opts:['T = 2π/ω0','T = ω0/2π','T = 1/ω0²'], a:0, exp:'T = 2π/ω0.'},
{q:'Период математического маятника (малые углы)?', opts:['T = 2π√(l/g)','T = 2π√(g/l)','T = 2π l/g'], a:0, exp:'T = 2π√(l/g).'},
{q:'Уравнение затухающих колебаний?', opts:['x¨ + 2β x˙ + ω0² x = 0','x¨ + ω0² x + 2β = 0','x¨ - 2β x˙ + ω0² x = 0'], a:0, exp:'Стандартная форма с демпфированием: x¨ + 2β x˙ + ω0² x = 0.'},
{q:'Частота реальных затухающих колебаний ω?', opts:['ω = √(ω0² - β²)','ω = ω0','ω = β'], a:0, exp:'ω = √(ω0² - β²).'},
{q:'Амплитуда затухающих колебаний A(t)?', opts:['A(t) = A0 e^{-β t}','A(t) = A0 e^{β t}','A(t) = A0 cos(β t)'], a:0, exp:'A(t) = A0 e^{-β t}.'},
{q:'Добротность Q через ω0 и β?', opts:['Q = ω0/(2β)','Q = 2β/ω0','Q = ω0*β'], a:0, exp:'Q = ω0/(2β).'},
{q:'Частота биений для двух близких ω1, ω2?', opts:['f_b = |ω1-ω2|/(2π)','f_b = (ω1+ω2)/2','f_b = √(ω1 ω2)'], a:0, exp:'f_b = |ω1-ω2|/(2π).'},
{q:'Энергия при максимальной скорости равна?', opts:['E_kin = E','E_kin = E/2','E_kin = 0'], a:0, exp:'При x=0, v=v_max → вся энергия кинетическая.'},
{q:'Энергия при максимальном смещении?', opts:['E_pot = E','E_pot = E/2','E_pot = 0'], a:0, exp:'При x=A → энергия потенциальная вся E.'},
{q:'Фазовый сдвиг v относительно x?', opts:['v = x опережает на π/2','v в фазе с x','v = x отстаёт на π'], a:0, exp:'v = dx/dt → опережение на π/2.'},
{q:'Фазовый сдвиг a относительно x?', opts:['a = x в противофазе (π)','a в фазе','a опережает на π/2'], a:0, exp:'a = -ω² x → противофаза.'},
];

// Рендерим
const quizDiv = document.getElementById('quiz');
questions.forEach((qq,i)=>{
  const d=document.createElement('div'); d.className='q';
  d.innerHTML=`<strong>Вопрос ${i+1}.</strong> ${qq.q}<div></div>`;
  qq.opts.forEach((opt,j)=>{
    const id=`q${i}_opt${j}`;
    const label=document.createElement('label');
    label.style.display='block';
    label.innerHTML=`<input type="radio" name="q${i}" value="${j}"> ${opt}`;
    d.appendChild(label);
  });
  const expDiv=document.createElement('div'); expDiv.className='explain'; expDiv.id=`exp${i}`;
  d.appendChild(expDiv);
  quizDiv.appendChild(d);
});

// Функции проверки
function check(){
  let score=0;
  questions.forEach((qq,i)=>{
    const els=document.getElementsByName('q'+i);
    let chosen=-1;
    for(const el of els) if(el.checked) chosen=parseInt(el.value);
    const expDiv=document.getElementById('exp'+i); expDiv.style.display='block';
    if(chosen===qq.a){ expDiv.innerHTML=`<div class="correct">Правильно</div><div>${qq.exp}</div>`; score++; }
    else if(chosen===-1){ expDiv.innerHTML=`<div class="wrong">Не отвечено</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; }
    else { expDiv.innerHTML=`<div class="wrong">Неправильно</div><div>Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}</div>`; }
  });
  document.getElementById('result').innerHTML=`Ваш результат: <b>${score}/${questions.length}</b>`;
}

function showAnswers(){questions.forEach((qq,i)=>{const expDiv=document.getElementById('exp'+i); expDiv.style.display='block'; expDiv.innerHTML=`Верный ответ: <b>${qq.opts[qq.a]}</b>. ${qq.exp}`;});document.getElementById('result').innerHTML='';}
function resetQuiz(){questions.forEach((qq,i)=>{const els=document.getElementsByName('q'+i); for(const el of els) el.checked=false; document.getElementById('exp'+i).style.display='none';}); document.getElementById('result').innerHTML='';}

document.getElementById('checkBtn').addEventListener('click', check);
document.getElementById('showAnswers').addEventListener('click', showAnswers);
document.getElementById('resetBtn').addEventListener('click', resetQuiz);
</script>
</body>
</html>
